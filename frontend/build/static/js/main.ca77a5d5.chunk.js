/*! For license information please see main.ca77a5d5.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{197:function(t,e,r){},250:function(t){t.exports=JSON.parse('{"v":"5.7.6","fr":24,"ip":0,"op":34,"w":56,"h":32,"nm":"Talk-active","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":22,"s":[50]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":28,"s":[100]},{"t":34,"s":[50]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":22,"s":[43.506,16,0],"to":[-0.014,-1.167,0],"ti":[-0.014,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":28,"s":[43.423,9,0],"to":[0.014,0,0],"ti":[-0.028,-1.167,0]},{"t":34,"s":[43.59,16,0]}],"ix":2,"l":2},"a":{"a":0,"k":[-12.878,-5.63,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[11.064,11.064],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.091973001817,0.059602000667,0.059602000667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-12.878,-5.63],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-4,"op":120,"st":48,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":11,"s":[50]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":17,"s":[100]},{"t":23,"s":[50]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":11,"s":[28.923,16,0],"to":[-0.028,-1.167,0],"ti":[0,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":17,"s":[28.756,9,0],"to":[0,0,0],"ti":[-0.028,-1.167,0]},{"t":23,"s":[28.923,16,0]}],"ix":2,"l":2},"a":{"a":0,"k":[-12.878,-5.63,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[11.064,11.064],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.091973001817,0.059602000667,0.059602000667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-12.878,-5.63],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":96,"st":24,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[50]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[100]},{"t":12,"s":[50]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[14.006,16,0],"to":[0,-1.167,0],"ti":[0,0,0]},{"i":{"x":0,"y":1},"o":{"x":0.333,"y":0},"t":6,"s":[14.006,9,0],"to":[0,0,0],"ti":[0,-1.167,0]},{"t":12,"s":[14.006,16,0]}],"ix":2,"l":2},"a":{"a":0,"k":[-12.878,-5.63,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[11.064,11.064],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.091973001817,0.059602000667,0.059602000667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-12.878,-5.63],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":89,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[28.05,16.428,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[99.294,101.098,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[56.398,31.652],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.091973001817,0.059602000667,0.059602000667,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.188235294118,0.207843137255,0.227450980392,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-0.051,-0.424],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":89,"st":0,"bm":0}],"markers":[]}')},294:function(t,e,r){},295:function(t,e,r){},397:function(t,e,r){},400:function(t,e,r){},403:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r(18),a=r.n(o),i=(r(294),r(295),r(34)),c=r(23),s=r(5),l=r(475),u=(r(197),r(13)),h=r(28),d=r(267),f=r(477),p=r(508),b=r(478),x=r(255),g=r.n(x),v=r(256),m=r.n(v),j=r(472),y=r(499),O=r(464),w=r(467),C=function(t,e,r,n){return r<t.length-1&&t[r+1].sender._id===e.sender._id&&t[r].sender._id!==n?33:r<t.length-1&&t[r+1].sender._id!==e.sender._id&&t[r].sender._id!==n||r===t.length-1&&t[r].sender._id!==n?0:"auto"},k=function(t,e,r,n){return r<t.length-1&&(t[r+1].sender._id!==e.sender._id||void 0===t[r+1].sender._id)&&t[r].sender._id!==n},E=function(t,e,r){return e===t.length-1&&t[t.length-1].sender._id!==r&&t[t.length-1].sender._id},F=function(t,e,r){return r>0&&t[r-1].sender._id===e.sender._id},L=function(t,e){return e[0]._id===t._id?e[1].name:e[0].name},S=r(29),_=r.n(S),N=r(476),A=r(468),I=r(463),P=r(67),T=r(507),G=r(471),B=r(1),D=function(t){var e=t.user,r=t.children,n=Object(I.a)(),o=n.isOpen,a=n.onOpen,i=n.onClose;return Object(B.jsxs)(B.Fragment,{children:[r?Object(B.jsx)("span",{onClick:a,children:r}):Object(B.jsx)(O.a,{icon:Object(B.jsx)(A.a,{}),onClick:a,bg:"red",color:"white",pos:"absolute",top:4,right:4,className:"close-button"}),Object(B.jsxs)(P.a,{size:"2xl",onClose:i,isOpen:o,isCentered:!0,children:[Object(B.jsx)(P.h,{}),Object(B.jsxs)(P.d,{h:"auto",w:"auto",bg:"#28293D",color:"#F2F2F5",pt:4,pb:4,children:[Object(B.jsx)(P.c,{color:"#F2F2F5",pos:"absolute",top:4,right:4}),Object(B.jsxs)(P.b,{d:"flex",alignItems:"center",justifyContent:"center",children:[Object(B.jsx)(T.a,{size:"xl",borderRadius:"lg",width:"200px",height:"200px",src:e.pic,alt:e.name,mr:8}),Object(B.jsxs)(G.a,{direction:"column",alignItems:"flex-start",children:[Object(B.jsx)(j.a,{fontSize:"1.2rem",mt:2,children:"ID: 628c511114"}),Object(B.jsx)(j.a,{fontSize:"1.2rem",mt:2,children:"Created At: 05/11/2023 10:33 AM"}),Object(B.jsxs)(j.a,{fontSize:"1.2rem",mt:2,children:["Email: ",e.email]}),Object(B.jsx)(j.a,{fontSize:"2rem",fontWeight:"bold",mt:4,children:e.name})]})]})]})]})]})},z=r(504),M=r(248),W=Object(n.createContext)(),R=function(){return Object(n.useContext)(W)},Y=function(t){var e=t.children,r=Object(n.useState)(),o=Object(s.a)(r,2),a=o[0],i=o[1],l=Object(n.useState)(),u=Object(s.a)(l,2),h=u[0],d=u[1],f=Object(n.useState)([]),p=Object(s.a)(f,2),b=p[0],x=p[1],g=Object(n.useState)(),v=Object(s.a)(g,2),m=v[0],j=v[1],y=Object(n.useState)(!1),O=Object(s.a)(y,2),w=O[0],C=O[1],k=Object(c.f)();return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("userInfo"));d(t),t||k.push("/")}),[k]),Object(B.jsx)(W.Provider,{value:{selectedChat:a,setSelectedChat:i,user:h,setUser:d,notification:b,setNotification:x,chats:m,setChats:j,isAuth:w,setIsAuth:C},children:e})},V=function(t){var e=t.messages,r=R().user;return Object(B.jsx)(M.a,{children:e&&e.map((function(t,n){return Object(B.jsxs)("div",{style:{display:"flex"},children:[(k(e,t,n,r._id)||E(e,n,r._id))&&Object(B.jsx)(z.a,{label:t.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(B.jsx)(T.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:t.sender.name,src:t.sender.pic})}),Object(B.jsx)("span",{style:{backgroundColor:"".concat(t.sender._id===r._id?"#4D0099":"#6600CC"),marginLeft:C(e,t,n,r._id),marginTop:F(e,t,n,r._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%"},children:t.content})]},t._id)}))})},U=r(249),J=r.n(U),H=function(t){var e=t.handleEmojiClick,r=Object(n.useState)(["\ud83d\ude00","\ud83d\ude03","\ud83d\ude04","\ud83d\ude01","\ud83d\ude06","\ud83d\ude05","\ud83d\ude02","\ud83e\udd23","\ud83d\ude0a","\ud83d\ude07","\ud83d\ude42","\ud83d\ude43","\ud83d\ude09","\ud83d\ude0c","\ud83d\ude0d","\ud83e\udd70","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1a","\ud83d\ude0b","\ud83d\ude1b","\ud83d\ude1d","\ud83d\ude1c","\ud83e\udd2a","\ud83e\udd28","\ud83e\uddd0","\ud83e\udd13","\ud83d\ude0e","\ud83e\udd29","\ud83e\udd73","\ud83d\ude0f","\ud83d\ude12","\ud83d\ude1e","\ud83d\ude14","\ud83d\ude1f","\ud83d\ude15","\ud83d\ude41","\ud83d\ude23","\ud83d\ude16","\ud83d\ude2b","\ud83d\ude29","\ud83e\udd7a","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude24","\ud83d\ude20","\ud83d\ude21","\ud83e\udd2c","\ud83e\udd2f","\ud83d\ude33","\ud83e\udd75","\ud83e\udd76","\ud83d\ude31","\ud83d\ude28","\ud83d\ude30","\ud83d\ude25","\ud83d\ude13","\ud83e\udd17","\ud83e\udd14","\ud83e\udd2d","\ud83e\udd2b","\ud83e\udd25","\ud83d\ude36","\ud83d\ude10","\ud83d\ude11","\ud83d\ude2c","\ud83d\ude44","\ud83d\ude2f","\ud83d\ude26","\ud83d\ude27","\ud83d\ude2e","\ud83d\ude32","\ud83e\udd71","\ud83d\ude34","\ud83e\udd24","\ud83d\ude2a","\ud83d\ude35","\ud83e\udd10","\ud83e\udd74","\ud83e\udd22","\ud83e\udd2e","\ud83e\udd27","\ud83d\ude37","\ud83e\udd12","\ud83e\udd15","\ud83e\udd11","\ud83e\udd20","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc79","\ud83d\udc7a","\ud83e\udd21","\ud83d\udca9","\ud83d\udc7b","\ud83d\udc80","\u2620\ufe0f","\ud83d\udc7d","\ud83d\udc7e","\ud83e\udd16","\u270c\ufe0f","\u2600\ufe0f","\u26bd\ufe0f","\u2764\ufe0f","\u26be\ufe0f","\u26c4\ufe0f","\u26f5\ufe0f","\ud83d\udea2","\u2708\ufe0f","\ud83d\ude80","\ud83d\ude86","\ud83d\ude97","\ud83d\udeb2","\ud83d\udef4","\ud83d\udef5","\ud83c\udfcd\ufe0f","\ud83d\ude94","\ud83d\ude92","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\udea8","\ud83d\udea6","\ud83d\uded1","\ud83d\udea7","\ud83d\udee3\ufe0f","\ud83d\uddfb","\u26f0\ufe0f","\ud83c\udfd4\ufe0f","\ud83c\udf0b","\ud83c\udfd5\ufe0f","\ud83c\udfd6\ufe0f","\ud83c\udfdc\ufe0f","\ud83c\udfdd\ufe0f","\ud83c\udfde\ufe0f","\ud83c\udfdf\ufe0f","\ud83c\udfdb\ufe0f","\ud83c\udfd7\ufe0f","\ud83c\udfd8\ufe0f","\ud83c\udfda\ufe0f","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfe3","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfe9","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfec","\ud83c\udfed","\ud83c\udfef","\ud83c\udff0","\ud83d\udc92","\ud83d\uddfc","\ud83d\uddfd","\u26ea\ufe0f","\ud83d\udd4c","\ud83d\udd4d","\u26e9\ufe0f","\ud83d\udd4b","\ud83d\uded5\ufe0f","\ud83d\uded6\ufe0f","\ud83d\uded7\ufe0f","\ud83d\udeda\ufe0f","\ud83d\udedb\ufe0f","\ud83d\udedc\ufe0f","\ud83d\udedd\ufe0f","\ud83d\udede\ufe0f","\ud83d\udedf\ufe0f","\ud83d\udee0\ufe0f","\ud83d\udee1\ufe0f","\ud83d\udee2\ufe0f","\ud83d\udee3\ufe0f","\ud83d\udee4\ufe0f","\ud83d\udee5\ufe0f","\ud83d\udee9\ufe0f","\ud83d\udeeb","\ud83d\udeec","\ud83d\udef0\ufe0f","\ud83d\udef3\ufe0f","\ud83d\udef4","\ud83d\udef5","\ud83c\udfcd\ufe0f","\ud83d\ude94","\ud83d\ude92","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\udea8","\ud83d\udea6","\ud83d\uded1","\ud83d\udea7","\ud83d\udee3\ufe0f","\ud83d\uddfb","\u26f0\ufe0f","\ud83c\udfd4\ufe0f","\ud83c\udf0b","\ud83c\udfd5\ufe0f","\ud83c\udfd6\ufe0f","\ud83c\udfdc\ufe0f","\ud83c\udfdd\ufe0f","\ud83c\udfde\ufe0f","\ud83c\udfdf\ufe0f","\ud83c\udfdb\ufe0f","\ud83c\udfd7\ufe0f","\ud83c\udfd8\ufe0f","\ud83c\udfda\ufe0f","\ud83c\udfe0","\ud83c\udfe1","\ud83c\udfe2","\ud83c\udfe3","\ud83c\udfe5","\ud83c\udfe6","\ud83c\udfe8","\ud83c\udfe9","\ud83c\udfea","\ud83c\udfeb","\ud83c\udfec","\ud83c\udfed","\ud83c\udfef","\ud83c\udff0","\ud83d\udc92","\ud83d\uddfc","\ud83d\uddfd","\u26ea\ufe0f","\ud83d\udd4c","\ud83d\udd4d","\u26e9\ufe0f","\ud83d\udd4b","\ud83d\uded5\ufe0f","\ud83d\uded6\ufe0f","\ud83d\uded7\ufe0f","\ud83d\udeda\ufe0f","\ud83d\udedb\ufe0f","\ud83d\udedc\ufe0f","\ud83d\udedd\ufe0f","\ud83d\udede\ufe0f","\ud83d\udedf\ufe0f","\ud83d\udee0\ufe0f"]),o=Object(s.a)(r,1)[0],a=Object(n.useState)(!0),i=Object(s.a)(a,2),c=i[0],l=i[1];return Object(B.jsx)("div",{style:{backgroundColor:"#28293D"},children:c&&Object(B.jsx)(B.Fragment,{children:o.map((function(t,r){return Object(B.jsx)("span",{style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return function(t){e(t),l(!1)}(t)},children:t},r)}))})})},$=r(250),q=r.p+"static/media/img.5e4d841b.jpg",K=r(251),Z=r.n(K),Q=r(266),X=r(474),tt=r(473),et=function(t){var e=t.user,r=t.handleFunction,n=t.admin;return Object(B.jsxs)(tt.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:r,style:{background:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"},_hover:{background:"#4D0099",transform:"scale(1.2)",marginLeft:"5px"},children:[e.name,n===e._id&&Object(B.jsx)("span",{children:" (Admin)"}),Object(B.jsx)(X.a,{pl:1})]})},rt=function(t){var e=t.user,r=t.handleFunction;return Object(B.jsxs)(l.a,{onClick:r,cursor:"pointer",bg:"#555770",_hover:{bg:"#6600CC",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"#F2F2F5",py:2,mb:2,borderRadius:"lg",children:[Object(B.jsx)(T.a,{mr:2,size:"sm",cursor:"pointer",name:e.name,src:e.pic}),Object(B.jsxs)(l.a,{children:[Object(B.jsx)(j.a,{children:e.name}),Object(B.jsxs)(j.a,{fontSize:"xs",children:[Object(B.jsx)("b",{children:"Email : "}),e.email]})]})]})};function nt(){nt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var ot=function(t){var e=t.fetchMessages,r=t.fetchAgain,o=t.setFetchAgain,a=Object(I.a)(),i=a.isOpen,c=a.onOpen,u=a.onClose,f=Object(n.useState)(),b=Object(s.a)(f,2),x=b[0],g=b[1],v=Object(n.useState)(""),m=Object(s.a)(v,2),j=m[0],C=m[1],k=Object(n.useState)([]),E=Object(s.a)(k,2),F=E[0],L=E[1],S=Object(n.useState)(!1),N=Object(s.a)(S,2),T=N[0],G=N[1],D=Object(n.useState)(!1),z=Object(s.a)(D,2),M=z[0],W=z[1],Y=Object(n.useState)(!1),V=Object(s.a)(Y,2),U=V[0],J=V[1],H=Object(y.a)(),$=R(),q=$.selectedChat,K=$.setSelectedChat,Z=$.user,X=function(){var t=Object(h.a)(nt().mark((function t(e){var r,n,o;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J(!0),C(e),e){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,G(!0),r={headers:{"Content-type":"appilication/json"}},t.next=9,_.a.get("/api/user?search=".concat(j),r);case 9:n=t.sent,o=n.data,console.log(o),G(!1),L(o),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),H({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),G(!1);case 20:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(h.a)(nt().mark((function t(){var e,n,a;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,W(!0),e={headers:{Authorization:"Bearer ".concat(Z.token)}},t.next=7,_.a.put("/api/chat/rename",{chatId:q._id,chatName:x},e);case 7:n=t.sent,a=n.data,console.log(a._id),K(a),o(!r),W(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),H({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),W(!1);case 19:g("");case 20:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),ot=function(){var t=Object(h.a)(nt().mark((function t(e){var n,a;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J(!1),!q.users.find((function(t){return t._id===e._id}))){t.next=4;break}return H({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 4:if(q.groupAdmin._id===Z._id){t.next=7;break}return H({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 7:return t.prev=7,G(!0),t.next=11,_.a.put("/api/chat/groupadd",{chatId:q._id,userId:e._id});case 11:n=t.sent,a=n.data,K(a),o(!r),G(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),H({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),G(!1);case 22:g("");case 23:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e){return t.apply(this,arguments)}}(),at=function(){var t=Object(h.a)(nt().mark((function t(n){var a,i,c;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(q.groupAdmin._id===Z._id||n._id===Z._id){t.next=3;break}return H({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:return console.log(n._id),console.log(q._id),t.prev=5,G(!0),a={headers:{"Content-type":"application/json"}},t.next=10,_.a.put("/api/chat/groupremove",{chatId:q._id,userId:n._id},a);case 10:i=t.sent,c=i.data,n._id===Z._id?K():K(c),o(!r),e(),G(!1),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),H({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),G(!1);case 22:g("");case 23:case"end":return t.stop()}}),t,null,[[5,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(O.a,{d:{base:"flex"},icon:Object(B.jsx)(A.a,{}),onClick:c}),Object(B.jsxs)(P.a,{onClose:u,isOpen:i,isCentered:!0,children:[Object(B.jsx)(P.h,{}),Object(B.jsxs)(P.d,{bg:"#28293D",overflowY:"scroll",height:"60%",children:[Object(B.jsx)(P.g,{fontSize:"35px",fontFamily:"Work Sans",d:"flex",justifyContent:"center",background:"#1C1C28",color:"#F2F2F5",p:2,mb:3,borderRadius:"md",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",children:q.chatName}),Object(B.jsx)(P.c,{}),Object(B.jsxs)(P.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(B.jsx)(l.a,{w:"100%",d:"flex",flexWrap:"wrap",pb:3,children:q.users.map((function(t){return Object(B.jsx)(et,{user:t,admin:q.groupAdmin,handleFunction:function(){return at(t)}},t._id)}))}),Object(B.jsxs)(d.a,{d:"flex",children:[Object(B.jsx)(p.a,{placeholder:"Chat Name",mb:1,bg:"#555770",color:"#F2F2F5",_placeholder:{color:"#F2F2F5"},value:x,onChange:function(t){return g(t.target.value)}}),Object(B.jsx)(Q.a,{d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},color:"#E4E4EB",background:"linear-gradient(145.51deg, #AC5DD9 7.21%, #004FC4 94.47%);\n",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",_hover:{bg:"#6600CC"},isLoading:M,onClick:tt,children:"Update"})]}),Object(B.jsx)(d.a,{children:Object(B.jsx)(p.a,{placeholder:"Add User to group",mb:1,bg:"#555770",color:"#F2F2F5",_placeholder:{color:"#F2F2F5"},onChange:function(t){return X(t.target.value)}})}),T?Object(B.jsx)(w.a,{size:"lg"}):U&&(null===F||void 0===F?void 0:F.map((function(t){return Object(B.jsx)(rt,{user:t,handleFunction:function(){return ot(t)}},t._id)})))]}),Object(B.jsx)(P.f,{children:Object(B.jsx)(Q.a,{onClick:function(){return at(Z)},d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},color:"#E4E4EB",background:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%);\n",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",_hover:{transform:"scale(1.1)",bg:"#6600CC"},children:"Leave Group"})})]})]})]})};function at(){at=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var it,ct,st=function(t){var e=t.fetchAgain,r=t.setFetchAgain,o=Object(n.useState)([]),a=Object(s.a)(o,2),i=a[0],c=a[1],x=Object(n.useState)(!1),v=Object(s.a)(x,2),C=v[0],k=v[1],E=Object(n.useState)(""),F=Object(s.a)(E,2),S=F[0],A=F[1],I=Object(n.useState)(!1),P=Object(s.a)(I,2),T=P[0],G=P[1],z=Object(n.useState)(!1),M=Object(s.a)(z,2),W=M[0],Y=M[1],U=Object(n.useState)(!1),K=Object(s.a)(U,2),Q=K[0],X=K[1],tt=Object(y.a)(),et={loop:!0,autoplay:!0,animationData:$,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},rt=R(),nt=rt.selectedChat,st=rt.setSelectedChat,lt=rt.user,ut=rt.notification,ht=rt.setNotification,dt=Object(n.useState)(!1),ft=Object(s.a)(dt,2),pt=ft[0],bt=ft[1],xt=function(){var t=Object(h.a)(at().mark((function t(){var e,r,n;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(nt){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e={headers:{"Content-type":"application/json"}},k(!0),t.next=7,_.a.get("/api/message/".concat(nt._id),e);case 7:r=t.sent,n=r.data,c(n),k(!1),it.emit("join chat",nt._id),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),tt({title:"Error Occured!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(){return t.apply(this,arguments)}}(),gt=function(){var t=Object(h.a)(at().mark((function t(e){var r,n,o;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S||"Enter"!==e.key){t.next=16;break}return it.emit("stop typing",nt._id),t.prev=2,r={headers:{"Content-type":"application/json"}},A(""),t.next=7,_.a.post("/api/message",{content:S,chatId:nt},r);case 7:n=t.sent,o=n.data,it.emit("new message",o),c([].concat(Object(u.a)(i),[o])),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),tt({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){(it=Z()("http://localhost:5000")).emit("setup",lt),it.on("connected",(function(){return G(!0)})),it.on("typing",(function(){return X(!0)})),it.on("stop typing",(function(){return X(!1)}))}),[]),Object(n.useEffect)((function(){xt(),ct=nt}),[nt]),Object(n.useEffect)((function(){it.on("message recieved",(function(t){ct&&ct._id===t.chat._id?c([].concat(Object(u.a)(i),[t])):ut.includes(t)||(ht([t].concat(Object(u.a)(ut))),r(!e))}))}));var vt,mt;return Object(B.jsx)(B.Fragment,{children:nt?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(j.a,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,w:"100%",fontFamily:"Work sans",d:"flex",fontWeight:800,textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",justifyContent:{base:"space-between"},alignItems:"center",children:[Object(B.jsx)(O.a,{bg:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%);",color:"#F2F2F5",_hover:{bg:"#6600CC"},d:{base:"flex",md:"none"},icon:Object(B.jsx)(N.a,{}),onClick:function(){return st("")}}),i&&(nt.isGroupChat?Object(B.jsxs)(B.Fragment,{children:[nt.chatName.toUpperCase(),Object(B.jsx)(ot,{fetchMessages:xt,fetchAgain:e,setFetchAgain:r})]}):Object(B.jsxs)(B.Fragment,{children:[L(lt,nt.users),Object(B.jsx)(D,{user:(vt=lt,mt=nt.users,mt[0]._id===vt._id?mt[1]:mt[0])})]}))]}),Object(B.jsxs)(l.a,{d:"flex",flexDir:"column",justifyContent:"flex-end",p:3,bg:"url(".concat(q,")"),bgSize:"cover",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",children:[C?Object(B.jsx)(w.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):Object(B.jsx)("div",{className:"messages",children:Object(B.jsx)(V,{messages:i})}),Object(B.jsxs)(d.a,{onKeyDown:gt,id:"first-name",isRequired:!0,mt:3,children:[Q?Object(B.jsx)("div",{children:Object(B.jsx)(J.a,{options:et,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(B.jsx)(B.Fragment,{}),Object(B.jsxs)(f.a,{children:[Object(B.jsx)(p.a,{variant:"filled",bg:"#28293D",placeholder:"Enter a message..",value:S,color:"#F2F2F5",_placeholder:{color:"#F2F2F5"},_hover:{bg:"#1C1C28"},onChange:function(t){if(A(t.target.value),T){W||(Y(!0),it.emit("typing",nt._id));var e=(new Date).getTime();setTimeout((function(){(new Date).getTime()-e>=3e3&&W&&(it.emit("stop typing",nt._id),Y(!1))}),3e3)}},_focus:{bg:"#1C1C28"},pr:"4rem",pb:"0"}),Object(B.jsxs)(b.a,{width:"4rem",children:[Object(B.jsx)(O.a,{icon:Object(B.jsx)(g.a,{}),onClick:function(){bt((function(t){return!t}))},"aria-label":"Open Emoji Options",bg:"none",_hover:{bg:"none"},color:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%)"}),Object(B.jsx)(O.a,{icon:Object(B.jsx)(m.a,{}),onClick:gt,"aria-label":"Send Message",bg:"none",_hover:{bg:"none"},color:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%)"})]})]}),pt&&Object(B.jsx)(H,{handleEmojiClick:function(t){A((function(e){return e+t}))}})]})]})]}):Object(B.jsx)(l.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:Object(B.jsx)(j.a,{fontSize:"3xl",pb:3,fontFamily:"Work sans",children:"Click on a user to start chatting"})})})},lt=function(t){var e=t.fetchAgain,r=t.setFetchAgain,n=R().selectedChat;return Object(B.jsx)(l.a,{d:{base:n?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",p:3,bg:"#28293D",color:"#F2F2F5",w:{base:"100%",md:"68%"},borderRadius:"lg",borderColor:"#555770",borderWidth:"1px",children:Object(B.jsx)(st,{fetchAgain:e,setFetchAgain:r})})},ut=r(480),ht=r(509),dt=r(503),ft=function(){return Object(B.jsx)(ht.a,{bg:"#28293D",children:Object(u.a)(Array(12)).map((function(t,e){return Object(B.jsx)(dt.a,{height:"45px"},e)}))})};function pt(){pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var bt=function(t){var e=t.children,r=Object(I.a)(),o=r.isOpen,a=r.onOpen,i=r.onClose,c=Object(n.useState)(),f=Object(s.a)(c,2),b=f[0],x=f[1],g=Object(n.useState)([]),v=Object(s.a)(g,2),m=v[0],j=v[1],O=Object(n.useState)(""),w=Object(s.a)(O,2),C=w[0],k=w[1],E=Object(n.useState)([]),F=Object(s.a)(E,2),L=F[0],S=F[1],N=Object(n.useState)(!1),A=Object(s.a)(N,2),T=A[0],G=A[1],D=Object(y.a)(),z=R(),M=z.chats,W=z.setChats,Y=function(){var t=Object(h.a)(pt().mark((function t(e){var r,n,o;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,G(!0),r={headers:{"Content-type":"appilication/json"}},t.next=8,_.a.get("/api/user?search=".concat(C),r);case 8:n=t.sent,o=n.data,G(!1),S(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),D({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(h.a)(pt().mark((function t(){var e,r,n;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<=2)){t.next=3;break}return D({title:"Please select more than 2 users",status:"warning",duration:5e3,isClosable:!0,position:"top"}),t.abrupt("return");case 3:if(b&&m){t.next=6;break}return D({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"}),t.abrupt("return");case 6:return t.prev=6,e={headers:{"Content-type":"application/json"}},t.next=10,_.a.post("/api/chat/group",{name:b,users:JSON.stringify(m.map((function(t){return t._id})))},e);case 10:r=t.sent,n=r.data,W([n].concat(Object(u.a)(M))),i(),D({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),D({title:"Failed to Create the Chat!",description:t.t0.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{onClick:a,children:e}),Object(B.jsxs)(P.a,{onClose:i,isOpen:o,isCentered:!0,children:[Object(B.jsx)(P.h,{}),Object(B.jsxs)(P.d,{bg:"#28293D",children:[Object(B.jsx)(P.g,{fontSize:"35px",fontFamily:"Work Sans",d:"flex",justifyContent:"center",background:"#1C1C28",color:"#F2F2F5",p:2,mb:3,borderRadius:"md",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",children:"Create Group Chat"}),Object(B.jsx)(P.c,{color:"#F2F2F5"}),Object(B.jsxs)(P.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(B.jsx)(d.a,{children:Object(B.jsx)(p.a,{placeholder:"Chat Name",mb:3,bg:"#555770",color:"#F2F2F5",_placeholder:{color:"#F2F2F5"},onChange:function(t){return x(t.target.value)}})}),Object(B.jsx)(d.a,{children:Object(B.jsx)(p.a,{placeholder:"Add Users eg: John, Piyush, Jane",mb:1,bg:"#555770",color:"#F2F2F5",_placeholder:{color:"#F2F2F5"},onChange:function(t){return Y(t.target.value)}})}),Object(B.jsx)(l.a,{w:"100%",d:"flex",flexWrap:"wrap",children:m.map((function(t){return Object(B.jsx)(et,{user:t,handleFunction:function(){return e=t,void j(m.filter((function(t){return t._id!==e._id})));var e}},t._id)}))}),T?Object(B.jsx)("div",{children:"Loading..."}):null===L||void 0===L?void 0:L.slice(0,4).map((function(t){return Object(B.jsx)(rt,{user:t,handleFunction:function(){return e=t,void(m.includes(e)?D({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):j([].concat(Object(u.a)(m),[e])));var e}},t._id)}))]}),Object(B.jsx)(P.f,{children:Object(B.jsx)(Q.a,{d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},onClick:V,color:"#E4E4EB",background:"linear-gradient(147.14deg, #3E7BFA 6.95%, #6600CC 93.05%);\n",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",_hover:{transform:"scale(1.1)",bg:"#6600CC"},children:"Create Group"})})]})]})]})};function xt(){xt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var gt=function(t){var e=t.fetchAgain,r=Object(n.useState)(),o=Object(s.a)(r,2),a=o[0],i=o[1],c=R(),u=c.selectedChat,d=c.setSelectedChat,f=c.chats,p=c.setChats,b=Object(y.a)(),x=function(){var t=Object(h.a)(xt().mark((function t(){var e,r,n;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={headers:{"Content-Type":"application/json"}},t.next=4,_.a.get("/api/chat",e);case 4:r=t.sent,n=r.data,p(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b({title:"Error Occured!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(JSON.parse(localStorage.getItem("userInfo"))),x()}),[e]),Object(B.jsxs)(l.a,{d:{base:u?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",p:3,bg:"#28293D",w:{base:"100%",md:"31%"},borderRadius:"lg",borderWidth:"2px",borderColor:"#555770",children:[Object(B.jsxs)(l.a,{pb:1,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work Sans",d:"flex",w:"100%",justifyContent:"space-between",alignItems:"center",color:"#E4E4EB",borderRadius:"md",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",background:"#1C1C28",children:[Object(B.jsx)(l.a,{fontWeight:"bold",textShadow:"3px 3px 6px rgba(0, 0, 0, 0.5)",children:"All Chats"}),Object(B.jsx)(bt,{children:Object(B.jsx)(Q.a,{d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:Object(B.jsx)(ut.a,{}),color:"#E4E4EB",bg:"linear-gradient(147.14deg, #FF3B3B 6.95%, #6600CC 93.05%)",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",_hover:{transform:"scale(1.1)",bg:"#6600CC"},children:"New Group Chat"})})]}),";",Object(B.jsx)(l.a,{d:"flex",flexDir:"column",p:3,background:"#1C1C28",w:"100%",h:"100%",borderRadius:"lg",overflowY:"hidden",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",children:f?Object(B.jsx)(ht.a,{overflowY:"scroll",children:f.map((function(t){return Object(B.jsxs)(l.a,{onClick:function(){return d(t)},cursor:"pointer",bg:u===t?"#6600CC":"#555770",color:u===t?"#E4E4EB":"#F2F2F5",px:3,py:2,borderRadius:"lg",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",children:[Object(B.jsx)(j.a,{children:t.isGroupChat?t.chatName:L(a,t.users)}),t.latestMessage&&Object(B.jsxs)(j.a,{fontSize:"xs",children:[Object(B.jsxs)("b",{children:[t.latestMessage.sender.name," : "]}),t.latestMessage.content.length>50?t.latestMessage.content.substring(0,51)+"...":t.latestMessage.content]})]},t._id)}))}):Object(B.jsx)(ft,{})})]})},vt=r(500),mt=r(510),jt=(r(397),r(481)),yt=r(482),Ot=r(483),wt=r(484),Ct=r(485),kt=r(486),Et=r(156),Ft=r.n(Et);function Lt(){Lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var St=function(){var t=Object(n.useState)(""),e=Object(s.a)(t,2),r=e[0],o=e[1],a=Object(n.useState)([]),i=Object(s.a)(a,2),d=i[0],f=i[1],b=Object(n.useState)(!1),x=Object(s.a)(b,2),g=x[0],v=x[1],m=Object(n.useState)(!1),O=Object(s.a)(m,2),C=O[0],k=O[1],E=R(),F=E.setSelectedChat,S=E.user,N=E.notification,A=E.setNotification,G=E.chats,M=E.setChats,W=Object(y.a)(),Y=Object(I.a)(),V=Y.isOpen,U=Y.onOpen,J=Y.onClose,H=Object(c.f)(),$=function(){var t=Object(h.a)(Lt().mark((function t(){var e,n,o;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return W({title:"Please Enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"}),t.abrupt("return");case 3:return t.prev=3,v(!0),e={headers:{"Content-type":"application/json"}},t.next=8,_.a.get("/api/user?search=".concat(r),e);case 8:n=t.sent,o=n.data,console.log(o,"data"),v(!1),f(o),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),W({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(h.a)(Lt().mark((function t(e){var r,n,o;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,k(!0),r={headers:{"Content-type":"application/json"}},t.next=6,_.a.post("/api/chat",{userId:e},r);case 6:n=t.sent,o=n.data,console.log(o),G.find((function(t){return t._id===o._id}))||M([o].concat(Object(u.a)(G))),F(o),k(!1),J(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),W({title:"Error fetching the chat",description:t.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(l.a,{d:"flex",justifyContent:"space-between",alignItems:"center",bg:"#28293D",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px",borderColor:"#555770",color:"#EBEBF0",children:[Object(B.jsx)(z.a,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",bgGradient:"linear(to-r, #3E7BFA, #6600CC)",color:"#FFFFFF",_hover:{bg:"#555770",color:"#FFFFFF"},children:Object(B.jsxs)(Q.a,{variant:"ghost",onClick:U,_hover:{bg:"#555770"},_active:{bg:"transparent",color:"#FFFFFF"},children:[Object(B.jsx)("i",{className:"fas fa-search"}),Object(B.jsx)(j.a,{d:{base:"none",md:"flex"},px:4,_hover:{bg:"#555770"},children:"Search User"})]})}),Object(B.jsx)(j.a,{fontSize:"2.5rem",fontWeight:"bold",textTransform:"uppercase",display:"inline-block",bgGradient:"linear(to-r, #FF3B3B, #6600CC)",bgClip:"text",cursor:"pointer",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",children:"ChatMind"}),Object(B.jsxs)("div",{children:[Object(B.jsxs)(vt.a,{children:[Object(B.jsxs)(vt.b,{p:1,children:[Object(B.jsx)(Ft.a,{count:N.length,effect:Et.Effect.SCALE}),Object(B.jsx)(jt.a,{fontSize:"2xl",m:1})]}),Object(B.jsxs)(vt.e,{pl:2,bg:"#28293D",color:"white",children:[!N.length&&Object(B.jsx)(vt.d,{children:"No New Messages"}),N.map((function(t){return Object(B.jsx)(vt.d,{onClick:function(){F(t.chat),A(N.filter((function(e){return e!==t})))},children:t.chat.isGroupChat?"New Message in ".concat(t.chat.chatName):"New Message from ".concat(L(S,t.chat.users))},t._id)}))]})]}),Object(B.jsxs)(vt.a,{children:[Object(B.jsxs)(vt.b,{as:Q.a,bg:"transparent",_hover:{bg:"#555770"},children:[Object(B.jsx)(T.a,{size:"sm",cursor:"pointer",name:S.name,src:S.pic}),Object(B.jsx)(yt.a,{_hover:{color:"#6600CC"}})]}),Object(B.jsxs)(vt.e,{bg:"#28293D",border:"none",shadow:"none",p:0,children:[Object(B.jsxs)(l.a,{p:2,textAlign:"center",children:[Object(B.jsx)(T.a,{size:"md",name:S.name,src:S.pic,mb:2}),Object(B.jsxs)(l.a,{fontSize:"sm",children:[Object(B.jsx)("strong",{children:"ID:"})," 628c511114 ",Object(B.jsx)("br",{}),Object(B.jsx)("strong",{children:"Name:"})," DEVESH MEHRA ",Object(B.jsx)("br",{}),Object(B.jsx)("strong",{children:"Email:"})," dev.mehara97@gmail.com ",Object(B.jsx)("br",{}),Object(B.jsx)("strong",{children:"Created At:"})," 05/11/2023 10:33 AM"]})]}),Object(B.jsx)(vt.c,{}),Object(B.jsx)(D,{user:S,children:Object(B.jsxs)(vt.d,{_hover:{bg:"#555770"},children:[Object(B.jsx)(Ot.a,{mr:2,boxSize:4}),"Profile"]})}),Object(B.jsxs)(vt.d,{_hover:{bg:"#555770"},children:[Object(B.jsx)(wt.a,{mr:2,boxSize:4}),"Delete Account"]}),Object(B.jsxs)(vt.d,{_hover:{bg:"#555770"},children:[Object(B.jsx)(Ct.a,{mr:2,boxSize:4}),"Settings"]}),Object(B.jsxs)(vt.d,{_hover:{bg:"#555770"},onClick:function(){localStorage.removeItem("userInfo"),H.push("/")},children:[Object(B.jsx)(kt.a,{mr:2,boxSize:4}),"Logout"]})]})]})]})]}),Object(B.jsxs)(mt.a,{placement:"left",onClose:J,isOpen:V,children:[Object(B.jsx)(P.h,{}),Object(B.jsxs)(mt.b,{bg:"#28293D",color:"#28293D",children:[Object(B.jsx)(P.g,{borderBottomWidth:"1px",fontWeight:"bold",textTransform:"uppercase",display:"inline-block",bgGradient:"linear(to-r, #FF3B3B, #6600CC)",bgClip:"text",cursor:"pointer",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)",textAlign:"center",fontSize:"2rem",children:"ChatMind"}),Object(B.jsxs)(P.b,{children:[Object(B.jsxs)(l.a,{d:"flex",pb:2,children:[Object(B.jsx)(p.a,{placeholder:"Search by name or email",mr:2,value:r,onChange:function(t){return o(t.target.value)},color:"#F2F2F5",bg:"#555770"}),Object(B.jsx)(Q.a,{onClick:$,color:"#F2F2F5",bg:"#555770",_hover:{bg:"#6600CC",color:"#F2F2F5",boxShadow:"2px 2px 8px rgba(0, 0, 0, 0.6)"},_active:{bg:"#6600CC",color:"#F2F2F5",boxShadow:"none"},p:3,children:"Go"})]}),g?Object(B.jsx)(ft,{}):null===d||void 0===d?void 0:d.map((function(t){return Object(B.jsx)(rt,{user:t,handleFunction:function(){return q(t._id)}},t._id)})),C&&Object(B.jsx)(w.a,{ml:"auto",d:"flex"})]})]})]})]})},_t=function(){var t=Object(n.useState)(!1),e=Object(s.a)(t,2),r=e[0],o=e[1],a=R().user;return Object(B.jsxs)("div",{style:{width:"100%"},children:[a&&Object(B.jsx)(St,{}),Object(B.jsxs)(l.a,{d:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px",children:[a&&Object(B.jsx)(gt,{fetchAgain:r}),a&&Object(B.jsx)(lt,{fetchAgain:r,setFetchAgain:o})]})]})};r(400);var Nt=function(){var t=Object(c.g)();return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)("nav",{className:"navbar",children:Object(B.jsxs)("div",{className:"navbar-container",children:[Object(B.jsx)(i.b,{to:"#",children:Object(B.jsx)("div",{className:"navbar-logo",children:"ChatMind"})}),Object(B.jsx)("div",{className:"navbar-menu",children:Object(B.jsx)("div",{className:"navbar-item",children:"/login"===t.pathname?"Ready to ChatMind? Let's Login":"Join the ChatMind community !"})})]})})})},At=r(511),It=r(408),Pt=r(498),Tt=r(493),Gt=r(494),Bt=r(495),Dt=r(501),zt=r(260),Mt=r.n(zt),Wt=r(9),Rt=r(487),Yt=Object(Rt.a)((function(t){var e;return e={formContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"3rem",height:"auto",color:"#F2F2F5"},form:{margin:"auto",borderRadius:"5px",alignContent:"center",padding:"2rem",width:"70vmin",color:"#F2F2F5"},heading:{textAlign:"center",marginBottom:t.spacing(3),color:"#F2F2F5",fontWeight:800},nameInput:{position:"relative","& > label":{left:".2rem"},padding:"4px 0px",fontSize:"1rem",width:"100%",marginBottom:t.spacing(5),height:".7rem"},emailInput:{position:"relative","& > label":{left:".2rem"},padding:"4px 0px",fontSize:"1rem",width:"100%",marginTop:t.spacing(3),height:".7rem"},passwordInput:{position:"relative","& > label":{left:".2rem"},padding:"4px 0px",width:"100%",height:".7rem",marginTop:t.spacing(8),"&.MuiOutlinedInput-input":{padding:"14px 14px"}},textField:{marginBottom:t.spacing(2)},strengthIndicator:{marginTop:t.spacing(1)},showPasswordButton:{position:"absolute",top:"50%",color:"#004FC4",fontSize:"12px",right:t.spacing(2),transform:"translateY(-50%)",border:"none","&:hover":{color:"#6600CC",background:"none"}},rememberMeContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",marginTop:t.spacing(7),"& .MuiIconButton-label":{color:"#004FC4"}},forgotPasswordLink:{color:"#004FC4",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline",color:"#6600CC"}},termsAndConditionsText:{fontFamily:"Roboto",color:"#E4E4EB",textAlign:"center",lineHeight:"17px",paddingLeft:"4px",marginTop:t.spacing(2),fontSize:"14px"},loginButton:{color:"#fff",backgroundColor:"#004FC4",border:"2px solid #004FC4",margin:"".concat(t.spacing(3),"px 0"),marginTop:"1rem","&:disabled":{backgroundColor:"#3E7BFA",color:"#E4E4EB",borderColor:"#3E7BFA"},"&:hover":{backgroundColor:"#6600CC",borderColor:"#6600CC"}},privacyText:{marginLeft:"4px",textDecoration:"underline",color:"#004FC4",fontSize:"14px","&:hover":{color:"#6600CC"}},createAccount:{fontSize:"1rem",fontWeight:500,color:"#004FC4",paddingLeft:"6px","&:hover":{color:"#6600CC",textDecoration:"underline"}}},Object(Wt.a)(e,"textField",{"& .MuiOutlinedInput-adornedEnd":{paddingRight:t.spacing(0)},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"#EBEBF0",padding:"12px 14px"},"& .MuiInputLabel-root":{color:"#8F90A6",fontSize:"16px",textAlign:"center"},"& .MuiInputLabel-root.Mui-focused":{color:"#EBEBF0",fontSize:"14px",textAlign:"center"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#004FC4",color:"#004FC4"},"& .MuiOutlinedInput-input":{padding:"13px 8px",backgroundColor:"#55577052",borderRadius:"5px"},"& .Mui-focused fieldset":{borderColor:"#6600CC",color:"#6600CC",outline:"none"}}}),Object(Wt.a)(e,"avatar",{margin:" 8px auto",backgroundColor:"#004FC4"}),Object(Wt.a)(e,"gridcheckbox",{display:"flex",justifyContent:"flex-start",alignItems:"center",marginTop:"3rem"}),Object(Wt.a)(e,"checkbox",{"& .MuiTypography-body1":{fontSize:"13px"},marginTop:t.spacing(1),"& .MuiIconButton-label":{color:"#004FC4"}}),Object(Wt.a)(e,"root",{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"3.5rem"}),Object(Wt.a)(e,"avatar2",{marginLeft:"6px",backgroundColor:"#004FC4","&.MuiAvatar-colorDefault":{color:"#F2F2F5",backgroundColor:"#004FC4"},"&:hover":{backgroundColor:"#6600CC"}}),Object(Wt.a)(e,"input",{display:"none"}),Object(Wt.a)(e,"button",{color:"white",backgroundColor:"#004FC4","&:hover":{backgroundColor:"#6600CC"}}),e})),Vt=r(127),Ut=r.n(Vt),Jt=r(126),Ht=r.n(Jt),$t=r(261),qt=r.n($t),Kt=r(492),Zt=r(490),Qt=function(){return Object(B.jsxs)(l.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#1C1C28",boxShadow:"0 0 20px rgba(0, 0, 0, 0.5)",transform:"translateZ(0)",children:[Object(B.jsxs)(l.a,{display:"flex",alignItems:"center",marginRight:5,children:[Object(B.jsx)(Zt.a,{fontSize:"large",color:"primary"}),Object(B.jsx)(j.a,{fontSize:"lg",fontWeight:"bold",color:"white",marginLeft:2,children:"Loading..."})]}),Object(B.jsx)(Kt.a,{color:"primary",size:30})]})};function Xt(){Xt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var te=function(){var t=Yt(),e=Object(y.a)(),r=Object(c.f)(),o=R().setIsAuth,a=Object(n.useState)(!1),l=Object(s.a)(a,2),u=l[0],d=l[1],f=Object(n.useState)(""),p=Object(s.a)(f,2),b=p[0],x=p[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),m=v[0],j=v[1],O=Object(n.useState)(""),w=Object(s.a)(O,2),C=w[0],k=w[1],E=Object(n.useState)(""),F=Object(s.a)(E,2),L=F[0],S=F[1],N=Object(n.useState)(!0),A=Object(s.a)(N,2),I=A[0],P=A[1],T=Object(n.useState)(""),G=Object(s.a)(T,2),D=G[0],z=G[1],M=Object(n.useState)(""),W=Object(s.a)(M,2),Y=W[0],V=W[1],U=Object(n.useState)(!1),J=Object(s.a)(U,2),H=J[0],$=J[1],q=Object(n.useState)(!1),K=Object(s.a)(q,2),Z=K[0],Q=K[1],X=function(){var t=Object(h.a)(Xt().mark((function t(){var n,a,i,c;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Q(!0),C===L){t.next=4;break}return e({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 4:return(n=new FormData).append("name",b),n.append("email",m),n.append("password",C),n.append("pic",Y),console.log(n),t.prev=10,a={headers:{"Content-Type":"multipart/form-data"}},t.next=14,_.a.post("/api/user",n,a);case 14:i=t.sent,(c=i.data)&&e({title:"User Created Successfully",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),c&&(localStorage.setItem("userInfo",JSON.stringify(c)),Q(!1),o(!0),o(!0)),r.push("/chats"),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(10),console.log(t.t0.response.statusText,"error"),e({title:t.t0.response.statusText,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 25:case"end":return t.stop()}}),t,null,[[10,21]])})));return function(){return t.apply(this,arguments)}}(),tt=function(){d(!u)},et=!(m&&C&&I&&L&&b);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Nt,{}),H||Z?Object(B.jsx)(Qt,{}):Object(B.jsx)("div",{className:t.formContainer,children:Object(B.jsxs)("form",{className:t.form,children:[Object(B.jsx)(At.a,{className:t.avatar,children:Object(B.jsx)(Mt.a,{})}),Object(B.jsx)(It.a,{variant:"h5",component:"h1",className:t.heading,children:"Sign in to Your Account"}),Object(B.jsx)(Pt.a,{label:"Name",variant:"outlined",fullWidth:!0,className:"".concat(t.nameInput," ").concat(t.textField),value:b,onChange:function(t){x(t.target.value)}}),Object(B.jsx)(Pt.a,{label:"Email",variant:"outlined",fullWidth:!0,className:"".concat(t.emailInput," ").concat(t.textField),value:m,onChange:function(t){var e=t.target.value;j(e),P(""!==e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))},error:!I,helperText:!I&&"Please enter a valid email address."}),Object(B.jsx)(Pt.a,{label:"Password",variant:"outlined",type:u?"text":"password",fullWidth:!0,className:"".concat(t.passwordInput," ").concat(t.textField),InputProps:{endAdornment:Object(B.jsx)(Tt.a,{variant:"outlined",className:t.showPasswordButton,onClick:tt,children:u?Object(B.jsx)(Ht.a,{}):Object(B.jsx)(Ut.a,{})})},value:C,onChange:function(t){k(t.target.value)}}),Object(B.jsx)(Pt.a,{label:"Confirm Password",variant:"outlined",type:u?"text":"password",fullWidth:!0,className:"".concat(t.passwordInput," ").concat(t.textField),InputProps:{endAdornment:Object(B.jsx)(Tt.a,{variant:"outlined",className:t.showPasswordButton,onClick:tt,children:u?Object(B.jsx)(Ht.a,{}):Object(B.jsx)(Ut.a,{})})},value:L,onChange:function(t){S(t.target.value)}}),Object(B.jsxs)("div",{className:t.root,children:[Object(B.jsx)(At.a,{alt:"Avatar Preview",src:D,className:t.avatar2}),Object(B.jsx)("input",{accept:"image/*",className:t.input,id:"avatar-input",type:"file",onChange:function(t){$(!0);var e=t.target.files[0];if(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){z(r.result),V(r.result),$(!1)}}}}),Object(B.jsx)("label",{htmlFor:"avatar-input",children:Object(B.jsx)(Tt.a,{variant:"contained",color:"default",startIcon:Object(B.jsx)(qt.a,{style:{color:"#FFFFFF"}}),component:"span",className:t.button,children:Object(B.jsx)(It.a,{variant:"subtitle1",children:"Upload Avatar"})})})]}),Object(B.jsxs)(Gt.a,{container:!0,className:t.gridcheckbox,justify:"flex-start",children:[Object(B.jsx)(Gt.a,{item:!0,children:Object(B.jsx)(Bt.a,{control:Object(B.jsx)(Dt.a,{}),label:"I Accept The Cricket Weapon Terms & Conditions",className:t.checkbox})}),Object(B.jsx)(Gt.a,{item:!0,children:Object(B.jsx)(Bt.a,{control:Object(B.jsx)(Dt.a,{}),label:"I Accept The Cricket Weapon Terms Of Use",className:t.checkbox})})]}),Object(B.jsxs)(It.a,{variant:"body2",className:t.termsAndConditionsText,children:["I acknowledge Cricket Weapon will use my information in accordance with its",Object(B.jsx)(i.b,{href:"#",className:t.privacyText,children:"Privacy Policy."})]}),Object(B.jsx)(Tt.a,{variant:"contained",className:t.loginButton,fullWidth:!0,disabled:et,onClick:X,children:"Create Account"}),Object(B.jsxs)(It.a,{variant:"body1",align:"center",style:{marginTop:"1rem"},children:["Already have an account?",Object(B.jsx)(i.b,{to:"/login",className:t.createAccount,children:"Login"})]})]})})]})},ee=r(262),re=r.n(ee);function ne(){ne=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),c=new k(o||[]);return n(i,"_invoke",{value:y(t,r,c)}),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,g=x&&x(x(E([])));g&&g!==e&&r.call(g,a)&&(b=g);var v=p.prototype=d.prototype=Object.create(b);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function o(n,a,i,c){var s=u(t[n],t,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,i,c)}),(function(t){o("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,c)}))}c(s.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function y(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return F()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var a=o.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(v),s(v,c,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var oe=function(){var t=Yt(),e=Object(n.useState)(!1),r=Object(s.a)(e,2),o=r[0],a=r[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),d=u[0],f=u[1],p=Object(n.useState)(""),b=Object(s.a)(p,2),x=b[0],g=b[1],v=Object(n.useState)(!0),m=Object(s.a)(v,2),j=m[0],O=m[1],w=Object(y.a)(),C=Object(c.f)(),k=!(d&&x&&j),E=function(){var t=Object(h.a)(ne().mark((function t(){var e,r,n;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d&&x){t.next=3;break}return w({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:return t.prev=3,e={headers:{"Content-type":"application/json"}},t.next=7,_.a.post("/api/user/login",{email:d,password:x},e);case 7:r=t.sent,n=r.data,w({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(n)),C.push("/chats"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),w({title:"Error Occured!",description:t.t0.response.statusText,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Nt,{}),Object(B.jsx)("div",{className:t.formContainer,children:Object(B.jsxs)("form",{className:t.form,children:[Object(B.jsx)(At.a,{className:t.avatar,children:Object(B.jsx)(re.a,{})}),Object(B.jsx)(It.a,{variant:"h5",component:"h1",className:t.heading,children:"Sign in to Your Account"}),Object(B.jsx)(Pt.a,{label:"Email",variant:"outlined",fullWidth:!0,className:"".concat(t.emailInput," ").concat(t.textField),value:d,onChange:function(t){var e=t.target.value;f(e),O(""!==e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))},error:!j,helperText:!j&&"Please enter a valid email address."}),Object(B.jsx)(Pt.a,{label:"Password",variant:"outlined",type:o?"text":"password",fullWidth:!0,className:"".concat(t.passwordInput," ").concat(t.textField),InputProps:{endAdornment:Object(B.jsx)(Tt.a,{variant:"outlined",className:t.showPasswordButton,onClick:function(){a(!o)},children:o?Object(B.jsx)(Ht.a,{}):Object(B.jsx)(Ut.a,{})})},value:x,onChange:function(t){g(t.target.value)}}),Object(B.jsxs)(Gt.a,{container:!0,className:t.rememberMeContainer,children:[Object(B.jsx)(Gt.a,{item:!0,children:Object(B.jsx)(Bt.a,{control:Object(B.jsx)(Dt.a,{color:"primary"}),label:"Remember me"})}),Object(B.jsx)(Gt.a,{item:!0,children:Object(B.jsx)(i.b,{to:"/forgot/password",className:t.forgotPasswordLink,children:"Forgot your password?"})})]}),Object(B.jsxs)(It.a,{variant:"body2",className:t.termsAndConditionsText,children:["I accept the Cricket Weapon Terms of Use and acknowledge Cricket Weapon will use my information in accordance with its",Object(B.jsx)(i.b,{to:"#",className:t.privacyText,children:"Privacy Policy."})]}),Object(B.jsx)(Tt.a,{variant:"contained",className:t.loginButton,fullWidth:!0,disabled:k,onClick:E,children:"Sign in"}),Object(B.jsxs)(It.a,{variant:"body1",align:"center",style:{marginTop:"1rem"},children:["Don't have an account?",Object(B.jsx)(i.b,{to:"/",className:t.createAccount,children:"Create Account"})]})]})})]})},ae=r(263),ie=r.n(ae);function ce(){var t=Yt(),e=Object(n.useState)(""),r=Object(s.a)(e,2),o=r[0],a=r[1],c=Object(n.useState)(!0),l=Object(s.a)(c,2),u=l[0],h=l[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),p=f[0],b=f[1],x=!(o&&u);return Object(B.jsx)("div",{className:t.formContainer,children:Object(B.jsxs)("form",{className:t.form,children:[Object(B.jsx)(At.a,{className:t.avatar,children:Object(B.jsx)(ie.a,{})}),Object(B.jsx)(It.a,{variant:"h5",component:"h1",className:t.heading,children:"Forgot your password?"}),p&&Object(B.jsx)(It.a,{variant:"body1",align:"center",children:"An email regarding your password change has been sent to your email address."}),Object(B.jsx)(Pt.a,{label:"Email",variant:"outlined",fullWidth:!0,className:"".concat(t.emailInput," ").concat(t.textField),value:o,onChange:function(t){var e=t.target.value;a(e),h(""!==e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))},error:!u,helperText:!u&&"Please enter a valid email address."}),Object(B.jsx)(Tt.a,{variant:"contained",className:t.loginButton,fullWidth:!0,disabled:x,style:{marginTop:"3rem"},onClick:function(){return b(!p)},children:"Send email"}),Object(B.jsx)(It.a,{variant:"body1",align:"center",style:{marginTop:".3rem"},children:Object(B.jsx)(i.b,{to:"/login",className:t.createAccount,children:"Cancel"})})]})})}var se=function(){var t=Object(c.f)(),e=JSON.parse(localStorage.getItem("userInfo"));return Object(n.useEffect)((function(){e?t.push("/chats"):t.push("/")}),[t,e]),Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(i.a,{children:Object(B.jsxs)(c.c,{children:[Object(B.jsx)(c.a,{exact:!0,path:"/",children:Object(B.jsx)(te,{})}),Object(B.jsxs)(c.a,{exact:!0,path:"/login",children:[" ",Object(B.jsx)(oe,{})]}),Object(B.jsxs)(c.a,{exact:!0,path:"/forgot/password",children:[" ",Object(B.jsx)(ce,{})]}),Object(B.jsx)(c.a,{exact:!0,path:"/chats",component:_t})]})})})},le=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,513)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;r(t),n(t),o(t),a(t),i(t)}))},ue=r(502);a.a.render(Object(B.jsx)(ue.a,{children:Object(B.jsx)(i.a,{children:Object(B.jsx)(Y,{children:Object(B.jsx)(se,{})})})}),document.getElementById("root")),le()}},[[403,1,2]]]);
//# sourceMappingURL=main.ca77a5d5.chunk.js.map